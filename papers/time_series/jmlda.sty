%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                The style file of International conference                 %%
%%             Intelligent Information Processing, IIP-9 (2012)              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%               copyleft (GPL)      K.V.Vorontsov, 2007-2012                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{jmlda}[2012/21/12 Journal of Machine Learning and Data Analysis]

% ����� draft: �������� ���������, ���.���������� � ����������, ����������
\newif\ifdraft\draftfalse
\DeclareOption{draft}{\drafttrue}

% ����� writebat: �������� bat-����� ��� ������������ �������
\newif\ifwritebat\writebatfalse
\DeclareOption{writebat}{\writebattrue}

% ����� writetab: �������� tab-���� �� ������� ������
\newif\ifwritetab\writetabfalse
\DeclareOption{writetab}{\writetabtrue}

% ����� writehtml: �������� html-���� �� ������� ������
\newif\ifwritehtml\writehtmlfalse
\DeclareOption{writehtml}{\writehtmltrue}

\ProcessOptions

\RequirePackage[cp1251]{inputenc}
%\RequirePackage[T2A]{fontenc}
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{mathrsfs}
\RequirePackage{euscript}
\RequirePackage{upgreek}
\RequirePackage[english,russian]{babel}
\RequirePackage{array}
\RequirePackage{theorem}
\RequirePackage[ruled]{algorithm}
\RequirePackage[noend]{algorithmic}
\RequirePackage[all]{xy}
\RequirePackage{graphicx}
\RequirePackage{subfig}
\RequirePackage{epstopdf}   % for Mikhail Burmistrov burmisha@gmail.com
\RequirePackage{tikz}       % for Mikhail Burmistrov burmisha@gmail.com
\RequirePackage{pgfplots}   % for Mikhail Burmistrov burmisha@gmail.com
%\RequirePackage{psfrag}  % Pytiev_3
%\RequirePackage{tikz}\usetikzlibrary{positioning}   % yangel
%\RequirePackage{epic}
\RequirePackage{color}
%\RequirePackage[footnotesize]{caption2}
\RequirePackage{ifthen}
\RequirePackage{url}
%\RequirePackage{html}
%\RequirePackage[colorlinks,urlcolor=blue]{hyperref}
\RequirePackage{makeidx}
\RequirePackage{pb-diagram}
%\RequirePackage{lamsarrow, pb-lams, stmaryrd}  %% Gurov
%% �������������� �����:
\RequirePackage{balance}  %% ������� �������������� ������ �� ������������� ��������
%\newcommand{\balance}{\relax}
%\newcommand{\nobalance}{\relax}
%\RequirePackage{multicol} %% ������� ��������� �����������
%\RequirePackage{dblfloatfix}  %% �������� �������!
%\RequirePackage{cuted}  %% ������������ ������
\RequirePackage{multirow} %% ��� ���������

\renewcommand{\baselinestretch}{1}
%\renewcommand{\baselinestretch}{1.1} %��� ������ � ������� ����������

% ��� A5
%\textheight=175mm
%\headsep=5mm
%\textwidth=117mm
%\topmargin=25mm
%\oddsidemargin=20mm
%\evensidemargin=20mm

% ��� �4 � ��� �������
\textheight=240mm
\textwidth=170mm
\oddsidemargin=0mm
\evensidemargin=-11mm
\topmargin=-10mm
\footnotesep=3ex
\columnsep=6mm

\marginparwidth=5mm
\parindent=3.5ex
\tolerance=9000
\hbadness=2000
\flushbottom
%\raggedbottom
% �������� ������ "������� ��p��"
\clubpenalty=10000
\widowpenalty=10000

%% ������ �� ���� ����
%% INTERFACE
%\def\MinMargins{
%    \textheight=240mm
%    \textwidth=160mm
%    \oddsidemargin=5mm
%    \evensidemargin=5mm
%    \topmargin=-10mm
%    \footnotesep=3ex
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% �������� ���������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\ruseng}[2]{\iflanguage{russian}{#1}\relax\iflanguage{english}{#2}\relax}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ���������� ������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newlength\vskipBeforeTitle
\newlength\vskipAfterTitle

% ������� ����������� ������� ��� � ������������� (�������� ����� �������� � ���������� �������)
\newcommand\unstretchspaces{\catcode`~=\active\def~{\;}}

% ��������� ��������� ������
% INTERFACE
\setlength\vskipBeforeTitle{3ex}
\setlength\vskipAfterTitle{3ex}
\newcommand\typeTitle[1]{{\Large\sffamily\bfseries #1}}
\newcommand\typeAuthor[1]{{\itshape\bfseries #1}}
\newcommand\typeOrganization[1]{{\small #1}}
\newcommand\typeEmail[1]{{\ttfamily #1}}
\newcommand\typeTocAuthorTitle[2]{{\unstretchspaces\itshape #1}\\ #2}
\newcommand\typeAbstract[1]{%
    \par\vskip\vskipAfterTitle
    \noindent\parbox{159.3mm}{\small #1}%
}

% ����� ���������
\def\type@title{%
    \noindent
    \begingroup
    % ���������� � ������ ������ � �������
    \setcounter{footnote}{0}%
    \def\thefootnote{\fnsymbol{footnote}}%
    %\def\@makefnmark{\hbox to 0pt{$^{\@thefnmark}$\hss}}%
    \def\@makefnmark{$^{\@thefnmark}$}%
    %\long\def\@makefntext##1{\parindent 1em\noindent\hbox to1.8em{\hss $\m@th ^{\@thefnmark}$}##1}%
    \def\@makefntext##1{\noindent $\m@th ^{\@thefnmark}$##1}%
    % ����� ��������������� ��������� ������, ������� ���������
%    \twocolumn[%
        \parbox{\textwidth}{%
            \begin{center}%
                \vskip-6ex\vskip\vskipBeforeTitle%
                %--------- �������� ���������
                \ifthenelse{\equal{\@title}{}}{}%
                    {\typeTitle\@title\ifthenelse{\equal{\@thanks@grant}{}}{}{\footnotemark\setcounter{footnote}{0}}\\[1ex]}%
                \ifthenelse{\equal{\@author@long}{}}{}%
                    {\typeAuthor\@author@long}%
                \ifthenelse{\equal{\@email}{}}{}%
                    {\\{\typeEmail\@email}}%
                \ifthenelse{\equal{\@organization}{}}{}%
                    {\\{\typeOrganization\@organization}}%
                \ifthenelse{\equal{\@abstract}{}}{}%
                    {\typeAbstract\@abstract\par\vskip\vskipAfterTitle}%
                \ruseng{{%
                %--------- ������ ��������� �� ���������� ��� ������ �� �������
                \English%
                \ifthenelse{\equal{\@title@eng}{}}{}%
                    {\typeTitle\@title@eng\ifthenelse{\equal{\@thanks@grant}{}}{}{\footnotemark\setcounter{footnote}{0}}\\[1ex]}%
                \ifthenelse{\equal{\@author@long@eng}{}}{}%
                    {\typeAuthor\@author@long@eng}%
                \ifthenelse{\equal{\@organization@eng}{}}{}%
                    {\\{\typeOrganization\@organization@eng}}%
                \ifthenelse{\equal{\@abstract@eng}{}}{}%
                    {\typeAbstract\@abstract@eng}%
                }}{{%
                %--------- ������ ��������� �� ������� ��� ������ �� ����������
                \Russian%
                \ifthenelse{\equal{\@title@rus}{}}{}%
                    {\typeTitle\@title@rus\ifthenelse{\equal{\@thanks@grant}{}}{}{\footnotemark}\\[1ex]}%
                \ifthenelse{\equal{\@author@long@rus}{}}{}%
                    {\typeAuthor\@author@long@rus}%
                \ifthenelse{\equal{\@organization@rus}{}}{}%
                    {\\{\typeOrganization\@organization@rus}}%
                \ifthenelse{\equal{\@abstract@rus}{}}{}%
                    {\typeAbstract\@abstract@rus}%
                }}%
            \end{center}%
            \vskip-2ex\vskip\vskipAfterTitle
        }%
%    ]%
    % ��������� ������ ���� ��������
    \ifthenelse{\equal{\@thanks@grant}{}}{}{\footnotetext{\@thanks@grant}}%
    \setcounter{footnote}{0}%
    \endgroup
}
\def\maketitle{%
    \@BeginDocument
    % �� ���������� �������� ������-�� ���������� ����� ������������
    % (������, ��� �������� ������ \twocolumn
    \pagestyle{headings}%
    %\clearpage
    % ������ ��������� ������ � ����������
    \type@title
    \globallabel{\@paper@name:begin}%
    \pagestyle{headings}%
    \thispagestyle{headfoot}%
    % ���������� ������ ������� �������, ������� ������ � ��������� ���������
    %\newcommand\@trim[1]{\@ifnextchar\ \@gobble\relax#1}%
    \@for\@indx@elem:=\@author\do{%
        \index{\@indx@elem}%
    }%
    % � �������� ������ �������� � ���������� ������ ������� � ��������
    \addcontentsline{toc}{mmrotitle}{%
        \typeTocAuthorTitle{\@author}{\@title}%
    }%
    % � �������� ������ �������� � ����������:
    % �����������, ��������, ��� �����, ����� �����������, ������� � ����������� ���������� � ��������������
    \ifdraft{\Russian
        \addtocontents{toc}{\protect\par(\@organization)}%
        \addtocontents{toc}{\protect\par\@abstract}%
        \ifthenelse{\equal{\@paper@corrected}{+}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\bigstar$\quad
                \textsl{������ ������ ����������}}}%
            {}%
        \ifthenelse{\equal{\@paper@reviewed}{+}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\bigstar\bigstar$\quad
                \textsl{������ ������ ��������������}}}%
            {}%
        \ifthenelse{\equal{\@paper@accepted}{0}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak ???\quad
                \textsl{������� �� ������ ������ ���� �� �������}}}%
            {}%
        \ifthenelse{\equal{\@paper@accepted}{+}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\bigstar\bigstar\bigstar$\quad
                \textsl{������ ������� � ������}}}%
            {}%
        \ifthenelse{\equal{\@paper@accepted}{?}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\maltese$\quad
                \textbf{������ ���������� ����������}}}%
            {}%
        \ifthenelse{\equal{\@paper@accepted}{!}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\maltese\maltese$\quad
                \textbf{������ �� ����� ���� ������� ��� ���������}}}%
            {}%
        \ifthenelse{\equal{\@paper@accepted}{-}}%
            {\addtocontents{toc}{\protect\par\protect\nopagebreak$\maltese\maltese\maltese$\quad
                \textbf{������ ����������}}}%
            {}%
        \addtocontents{toc}{%
            \protect\par\protect\url{\@paper@name.TeX}%
            \protect\ifthenelse{\protect\equal{\@reviewers@list}{}}%
                {}%
                {\quad(���������� � ����������: \texttt{\@reviewers@list})%
            }%
        }%
    }\fi
    % ������������ �����������
    \markboth{\@author@short}{\@title@short}%
    \par\nobreak\@afterheading
    % ������������ ������� -- ������ � ����� ������
    \nobalance
}
\def\@clear@title{%
    \gdef\@title{}%
    \gdef\@title@short{}%
    \gdef\@author{}%
    \gdef\@author@short{}%
    \gdef\@author@long{}%
    \gdef\@organization{}%
    \gdef\@abstract{}%
    \gdef\@thanks@grant{}%
    \gdef\@email{}%
    %--------- ������ ��������� �� ���������� ��� ������ �� �������
    \gdef\@title@eng{}%
    \gdef\@title@short@eng{}%
    \gdef\@author@eng{}%
    \gdef\@author@short@eng{}%
    \gdef\@author@long@eng{}%
    \gdef\@organization@eng{}%
    \gdef\@abstract@eng{}%
    %--------- ������ ��������� �� ������� ��� ������ �� ����������
    \gdef\@title@rus{}%
    \gdef\@title@short@rus{}%
    \gdef\@author@rus{}%
    \gdef\@author@short@rus{}%
    \gdef\@author@long@rus{}%
    \gdef\@organization@rus{}%
    \gdef\@abstract@rus{}%
}
\renewcommand{\title}[2][]{\@clear@title
    \gdef\@title{#2}%    {\uppercase{#2}}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@title@short{{#2}}}%
        {\gdef\@title@short{{#1}}}%
}
\renewcommand{\author}[2][]{
    \gdef\@author{#2}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@author@short{{#2}}}%
        {\gdef\@author@short{{#1 �~��.}}}%
    \gdef\@author@long{#2}%
    \@ifnextchar[\set@author@long\relax
}
\def\set@author@long[#1]{\gdef\@author@long{#1}}
\newcommand{\organization}[1]{\gdef\@organization{{#1}}}
\newcommand{\email}[1]{\gdef\@email{{#1}}}
\renewcommand{\thanks}[1]{\gdef\@thanks@grant{{#1}}}
%\def\myuncat{\def\do##1{\catcode`##1=12}\dospecials}
\renewcommand{\abstract}[1]{\gdef\@abstract{{#1}}}

% �� �� ����� ��� ������� ��������� �� ����������
\newcommand{\titleEng}[2][]{%
    \gdef\@title@eng{#2}%    {\uppercase{#2}}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@title@short@eng{{#2}}}%
        {\gdef\@title@short@eng{{#1}}}%
}
\newcommand{\authorEng}[2][]{
    \gdef\@author@eng{#2}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@author@short@eng{{#2}}}%
        {\gdef\@author@short@eng{{#1 �~��.}}}%
    \gdef\@author@long@eng{#2}%
    \@ifnextchar[\set@author@long@eng\relax
}
\def\set@author@long@eng[#1]{\gdef\@author@long@eng{#1}}
\newcommand{\organizationEng}[1]{\gdef\@organization@eng{{#1}}}
\newcommand{\abstractEng}[1]{\gdef\@abstract@eng{{#1}}}

% �� �� ����� ��� ������� ��������� �� �������
\newcommand{\titleRus}[2][]{%
    \gdef\@title@rus{#2}%    {\uppercase{#2}}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@title@short@rus{{#2}}}%
        {\gdef\@title@short@rus{{#1}}}%
}
\newcommand{\authorRus}[2][]{
    \gdef\@author@rus{#2}
    \ifthenelse{\equal{#1}{}}%
        {\gdef\@author@short@rus{{#2}}}%
        {\gdef\@author@short@rus{{#1 �~��.}}}%
    \gdef\@author@long@rus{#2}%
    \@ifnextchar[\set@author@long@rus\relax
}
\def\set@author@long@rus[#1]{\gdef\@author@long@rus{#1}}
\newcommand{\organizationRus}[1]{\gdef\@organization@rus{{#1}}}
\newcommand{\abstractRus}[1]{\gdef\@abstract@rus{{#1}}}

% ����������������� ������ ������� ������
\def\paper@record{{%
    %\textit{\@author} \@title~//
    \Russian
    �������� �������� � ������ ������, 2014. �.\,1, \No\,8.\\
    \English
    %Machine Learning and Data Analysis, 2014. Vol.\,1\,(8).
    }%
    %�.:~���� �����, 2009~---
    %�.\,\globalpageref{\@paper@name:begin}--\globalpageref{\@paper@name:end}.
}

% ���������� ���������
%\renewenvironment{abstract}{\begin{strip}}{\end{strip}}
%\renewenvironment{abstract}{\par\begingroup\small}{\endgroup\par\medskip}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��������������� ������������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\type@chapter@code{%
    \ifthenelse{\equal{\@chapter@code}{}}{}{\typeChapterCode{\@chapter@code}}
}
\renewcommand{\ps@headings}{%
    \renewcommand{\@oddhead}{\parbox{\textwidth}{\footnotesize
        \rightmark\hfill\type@chapter@code\quad\thepage\\[-2ex]\hrule}}%
    \renewcommand{\@evenhead}{\parbox{\textwidth}{\footnotesize
        \thepage\quad\type@chapter@code\hfill\leftmark\\[-2ex]\hrule}}%
    \renewcommand{\@oddfoot}{}%
    \renewcommand{\@evenfoot}{}%
}
\newcommand{\ps@headfoot}{%
    \renewcommand{\@oddhead}{\parbox{\textwidth}{\footnotesize
        \rightmark\hfill\type@chapter@code\quad\thepage\\[-2ex]\hrule}}%
    \renewcommand{\@evenhead}{\parbox{\textwidth}{\footnotesize
        \thepage\quad\type@chapter@code\hfill\leftmark\\[-2ex]\hrule}}%
    \renewcommand{\@oddfoot}{\parbox{\textwidth}{\scriptsize\slshape\paper@record}}%\hrule\vskip1ex
    \renewcommand{\@evenfoot}{\@oddfoot}%
}
\pagestyle{empty}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ��������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ��������� ��������
% INTERFACE
\newcommand\typeSection[1]{%
    \medskip
    \hangindent=3.5ex
    \hangafter=-6\noindent
    {\large\sffamily\bfseries #1}%
    \par\nobreak\smallskip
}
% INTERFACE
\newcommand\typeParagraph[1]{%
    \smallskip{\normalfont\rmfamily\bfseries #1 }%
}
% INTERFACE
\newcommand\typeChapter[3]{%
    \hrule\vskip1pt\hrule height2pt\vskip4ex\noindent
    {\normalfont\LARGE\sffamily\bfseries #3\raggedright\par}
    \vskip2ex\hrule height2pt\vskip1pt\hrule\vskip-1ex
    {\footnotesize\flushright\Russian ��� �������: #1 (#2)\par}
    \vskip6ex
}
% INTERFACE
\newcommand\typeChapterCode[1]{ }

% �������
\renewcommand\section[1]{\par\typeSection{#1}\@afterheading}
\renewcommand\subsection[1]{\par\typeSection{#1}\@afterheading}
\renewcommand\subsubsection[1]{\par\typeSection{#1}\@afterheading}
\renewcommand\paragraph[1]{\par\typeParagraph{#1}\nobreak}
\renewcommand\subparagraph[1]{\par\typeParagraph{#1}\nobreak}

% ������ ����� �����
\def\newchapterpage{%
    \pagestyle{headings}
    \onecolumn
%%%    \ifthenelse{\isodd{\thepage}}%s
%%%        {\newpage~\thispagestyle{empty}\newpage}    % \renewcommand{\@evenhead}{}
%%%        {\newpage}%
%    \ifthenelse{\isodd{\thepage}}%s
%        {~\thispagestyle{empty}\newpage}    % \renewcommand{\@evenhead}{}
%        {}%
    \thispagestyle{empty}%
}
\def\chaptercode#1{\gdef\@chapter@code{#1}}
\chaptercode{??}
% INTERFACE
\def\chapter#1#2#3{%
    \newchapterpage
    %\typeChapter{#1}{#2}{#3}
    \addcontentsline{toc}{mmrochapter}{{\normalfont\sffamily\bfseries #3}}% \protect\chaptercode{#1}
    \addtocontents{toc}{\protect\nopagebreak}%
    \addcontentsline{tos}{mmrochapter}{\rlap{(#1)}\hspace{12mm}#2\protect\\\strut\hspace{7.3mm}#3}% ��� �������� ����������
    \markboth{#3}{#3}%
    \chaptercode{#1}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand\contentsname{����������}

% ������� ������ ������ ����������
\newcommand\l@mmrotitle{\smallskip\@dottedtocline{1}{0ex}{3ex}}
\newcommand\l@mmrochapter{\vskip3ex\@dottedtocline{0}{0ex}{3ex}}

% ��������������� ������� ��������� ����������
\renewcommand\tableofcontents{%
    \if@twocolumn\@restonecoltrue\onecolumn\else\@restonecolfalse\fi
    \par{\normalfont\Large\sffamily\bfseries\contentsname}\nopagebreak\par\bigskip
    \def\@chapter@code{}%
    \markboth{\contentsname}{\contentsname}%
    \@starttoc{toc}%
    \if@restonecol\twocolumn\fi
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ����������� ��������� �������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewenvironment{theindex}{%
    \if@twocolumn\@restonecolfalse\else\@restonecoltrue\fi
    \columnseprule \z@
    \columnsep 35\p@
    \twocolumn[{\normalfont\Large\sffamily\bfseries ��������� ���������}\vskip2em]%
    \markboth{��������� ���������}{��������� ���������}%
    \parindent\z@
    \parskip\z@ \@plus .3\p@\relax
    \flushright
    \let\item\@idxitem
}{%
    \if@restonecol\onecolumn\else\clearpage\fi
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ������������, � ������ ������ ��������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ���������� ��������� ������ ������������
% INTERFACE
%\def\BibUrl#1{\\{\footnotesize\url{http://#1}}}
\def\BibAuthor#1{\emph{#1}}
\def\BibTitle#1{{#1}}
%\def\BibTitle#1{}  % ��������, �������� ����� ������ �����
\def\BibJournal#1{\emph{#1}}
\def\BibUrl#1{{\small\url{#1}}}
\def\BibHttp#1{{\small\url{http://#1}}}
\def\BibFtp#1{{\small\url{ftp://#1}}}
\def\typeBibItem{\small\sloppy}

% ��������������� �������������� � ������������ ����������� � ������ ����������
\renewenvironment{thebibliography}[1]
    {\section{\bibname}%
        \list{\@biblabel{\@arabic\c@enumiv}}{%
            \settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth
            \advance\leftmargin by 1ex%
            \topsep=0pt\parsep=3pt\itemsep=0ex%
            \@openbib@code
            \usecounter{enumiv}%
            \let\p@enumiv\@empty
            \renewcommand\theenumiv{\@arabic\c@enumiv}%
        }%
        \typeBibItem
%        \clubpenalty4000%
%        \@clubpenalty\clubpenalty
%        \widowpenalty4000%
%        \sfcode`\.\@m%
    }{%
        \def\@noitemerr{\@latex@warning{Empty `thebibliography' environment}}%
        \endlist
    }

% ��������� ������ ��� ���������� ������, ������� ��� ���������������� ���������� ���������� ����� [X--Y,Z]
\def\citenb#1{%
    \let\temp@cite\@cite
    \begingroup
    \def\@cite##1##2{##1}%
    \cite{#1}%
    \endgroup
    \let\@cite\temp@cite
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ������� �������� � ���������� ����������� �����, ������������ � ������ �������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ������� ������ � �������� ��� ������������� �����
\newcounter{PaperNo}
\def\thePaperNo{\arabic{PaperNo}}

% ������������� ����� � ������� (���������� :\thePaperNo: � ����������� �����������)
\let\globallabel\label
\let\globalltx@label\ltx@label
\let\globalref\ref
\let\globalpageref\pageref
\let\globalcitex\@citex
\let\globalbibitem\bibitem
\def\mmro@label#1{\globallabel{#1:\thePaperNo:}}
\def\mmro@ref#1{\globalref{#1:\thePaperNo:}}
\def\mmro@pageref#1{\globalpageref{#1:\thePaperNo:}}
\def\mmro@bibitem#1{\globalbibitem{#1:\thePaperNo:}}
\def\mmro@citex[#1]#2{%
  \let\@citea\@empty
  \@cite{\@for\@citeb:=#2\do
    {\@citea\def\@citea{,\penalty\@m\ }%
     \edef\@citeb{\expandafter\@firstofone\@citeb\@empty:\thePaperNo:}%
     \if@filesw\immediate\write\@auxout{\string\citation{\@citeb}}\fi
     \@ifundefined{b@\@citeb}{\mbox{\reset@font\bfseries ?}%
       \G@refundefinedtrue
       \@latex@warning{Citation `\@citeb' on page \thepage \space undefined}}%
       {\hbox{\csname b@\@citeb\endcsname}}}}{#1}%
}

% ��������������� ������ ������ � �������� �� ��������� �����
% INTERFACE
\newcommand\SetPrivateLabeling{%
    \let\label\mmro@label
    \let\ltx@label\mmro@label % ��� ���������� ������ AmSLaTeX
    \let\ref\mmro@ref
    \let\pageref\mmro@pageref
    \let\@citex\mmro@citex
    \let\bibitem\mmro@bibitem
}

% ��� ������������� ����� �������� ��������� ���� ������, ���������� � �������
% INTERFACE
\newcommand\RestoreDefaultLabeling{
    \let\label\globallabel
    \let\ltx@label\globalltx@label
    \let\ref\globalref
    \let\pageref\globalpageref
    \let\@citex\globalcitex
    \let\bibitem\globalbibitem
}

% ��������, ������� �������� � ������ ������ ������
% (��� � ��������, ��� � ��� ��������� ����������)
\newcommand{\@BeginDocument}{
    % ��������������� ������� � �������� ����������� (������ �������� ������)
    \renewcommand{\@listi}{%
        \topsep=\smallskipamount % ������ ������
        \parsep=0pt% ����� �������� ������ ������
        \parskip=0pt% ����� ��������
        \itemsep=0pt% ����� ��������
        \itemindent=0pt% �������� ������
        \labelsep=1.5ex% ���������� �� �����
        \leftmargin=3.5ex% ������ �����
        \rightmargin=0pt} % ������ ������
    \renewcommand{\@listii}{\@listi\topsep=0pt}%
    \renewcommand{\@listiii}{\@listii}%
    \renewcommand{\@listiv}{\@listii}%
    \renewcommand{\labelitemi}{---}%
    \renewcommand{\labelitemii}{---}%
    \renewcommand{\labelitemiii}{---}%
    \renewcommand{\labelitemiv}{---}%
    \renewcommand{\theenumii}{\asbuk{enumii}}%
    % ��������� ���������
    \setcounter{equation}{0}%
    \setcounter{table}{0}%
    \setcounter{figure}{0}%
    \setcounter{algorithm}{0}%
    \setcounter{footnote}{0}%
    \setcounter{Theorem}{0}%
    \setcounter{State}{0}%
    \setcounter{Corollary}{0}%
    \setcounter{Def}{0}%
    \setcounter{Axiom}{0}%
    \setcounter{Hypothesis}{0}%
    \setcounter{Assumption}{0}%
    \setcounter{Problem}{0}%
    \setcounter{Example}{0}%
    \setcounter{Remark}{0}%
    \setcounter{Fact}{0}%
    \setcounter{Notice}{0}%
    \setcounter{Rule}{0}%
    \setcounter{Condition}{0}%
    % ������� ��������� ����������
    \setcounter{mmroReviewerNote}{0}%
    % ������� ������
    \refstepcounter{PaperNo}%
    % �����������
    \ruseng{\hyphenation{��� ���� ����}}\relax
    \def\bibname{\ruseng{����������}{References}}%
    \def\figurename{\ruseng{���.}{Fig.}}%
    \def\tablename{\ruseng{�������}{Table}}%
}

% ��������, ������� �������� � ����� ������ ������
% (������ ��� ��������; ��� ��������� ���������� ������ ��� ��� �� �����)
\newcommand\@EndDocument{%
    % ������������ � ���� �������, ��� ����� �������� �� �����:
    \balance
    % ����� ����� ������
    \globallabel{\@paper@name:end}%
    % ������������ ������, ��������� ���������� �/��� ���������� \REVIEWERNOTE
    \ifthenelse{\equal+{\@paper@corrected}\or\not\equal{\themmroReviewerNote}{0}}{%
        \ifwritebat
            \@write@corrauthors@bat{\ZipAdd \@paper@name \@paper@name.tex \@paper@name.pdf}%
            \@for\@pix@elem:=\@paper@pixlist\do{%
                \@write@corrauthors@bat{\ZipAdd \@paper@name \@pix@elem}%
            }%
        \fi
    }{}%
    % � ���������� ����������� ������� � ���������� ��������� ����������
    \ifthenelse{\equal{\themmroReviewerNote}{0}}{}{%
        \ifdraft{% ���� �������� ������
            \addtocontents{toc}{%
                \protect\par
                \protect\nopagebreak$\checkmark\kern-1.36ex\checkmark$\quad
                \textsl{� ����� ������ �������� ��������� ����������: \themmroReviewerNote}}%
        }\fi
    }%
    % ������� ���������� � ��������� ���� ��� ���� ������
    \ifwritetab
        \@write@papers@table{%
            \@paper@name|% ��� �����
            \@chapter@code|% ��� �������
            \@author|% ������ ��� ������ ������� ����� �������
            \@title|% �������� ������
            \@author@eng|% ������ ��� ������ ������� ����� ������� �� ����������
            \@title@eng|% �������� ������ �� ����������
            \@organization|% �����������
            \@email|% ����� ��� ������ �������, ��� �� ������� ������
            \@reviewers@list|% ������ ����������� � �����������
            \@paper@corrected|% + ������ ���������� / - �� ������
            \@paper@reviewed|% + ������ �������������� / - �� ������
            \@paper@accepted|% + ������� � ������ / ? ���������� ��������� / ! ���������� ��������� / - �� �������
            \themmroReviewerNote % ���������� ��������� \REVIEWERNOTE, ����������� ������������ � ����� ������
        }%
    \fi
    % ������� ���������� � HTML-���� ��� ������ ������ -- ���� ����������� ������� ��������� ������
    \ifthenelse{%
        \(\equal{\@paper@corrected}{\@@corrected}\or \equal{\@@corrected}{*}\) \and
        \(\equal{\@paper@reviewed}{\@@reviewed}\or \equal{\@@reviewed}{*}\) \and
        \(\equal{\@paper@accepted@}{\@@accepted}\or \equal{\@@accepted}{*}\)
    }{%
        \ifwritehtml
        \@write@papers@html{<br><i>\@author</i> <b>\@title</b>}%
        %\@write@papers@html{<br>({{\@organization}})}%
        \@write@papers@html{<br>{{\@abstract}}}%
        \fi
    }{}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ������� ������, ������������ ������, ������ ������� ��� ������� � �����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ��������������� �����, ������������ ��� ���������� ��������
\ifwritetab
    \newwrite\@papers@table
\fi
\ifwritehtml
    \newwrite\@papers@html
\fi
\ifwritebat
    \newwrite\@reviewers@bat
    \newwrite\@authors@bat
    \newwrite\@corrauthors@bat
    \newwrite\@make@bat
\fi
% ������� ���������� ����� � �����, ������������ � bat-�����
% INTERFACE
\newcommand\ZipAdd[1]{rar a #1.rar }
%\newcommand\ZipAdd[1]{zzip -add #1.zip }

% ��������� ��� ������� ������ �������
\newenvironment{papers}{
    \gdef\@paper@name{}%
    \gdef\@paper@pixlist{}%
    \renewcommand{\documentclass}[2][0]{\relax}%
    \renewcommand{\usepackage}[2][0]{\relax}%
    \renewcommand\RestoreDefaultLabeling{\relax}%
    \ifdraft\relax\else\NOREVIEWERNOTES\fi
    \chaptercode{}
    \gdef\typeChapterCode##1{(##1)}
    \renewenvironment{document}{\SetPrivateLabeling}{\@EndDocument}%
    % �������� ����� �� ������� ���� ������ papers.tab
    \ifwritetab
        \immediate\openout\@papers@table=_papers.tab
        \gdef\@write@papers@table##1{%
            \immediate\write\@papers@table{##1}%
        }%
    \fi
    % �������� ����� �� ������� ���� ������ papers.html
    \ifwritehtml
        \immediate\openout\@papers@html=_papers.html
        \gdef\@write@papers@html##1{%
            \protected@write\@papers@html{}{##1}%
            %\immediate\write\@papers@html{##1}%
        }%
    \fi
    % �������� ����� reviewers.bat
    \ifwritebat
        \immediate\openout\@reviewers@bat=reviewers.bax
        \gdef\@write@reviewers@bat##1{%
            \immediate\write\@reviewers@bat{##1}%
        }%
        % �������� ����� authors.bat
        \immediate\openout\@authors@bat=authors.bax
        \gdef\@write@authors@bat##1{%
            \immediate\write\@authors@bat{##1}%
        }%
        % �������� ����� corr-authors.bat
        % ������������ ������ ������, ��������� ���������� �/��� ���������� \REVIEWERNOTE
        \immediate\openout\@corrauthors@bat=corr-authors.bax
        \gdef\@write@corrauthors@bat##1{%
            \immediate\write\@corrauthors@bat{##1}%
        }%
        % �������� ����� make-separately.bat
        \immediate\openout\@make@bat=make-separately.bax
        \gdef\@write@make@bat##1{%
            \immediate\write\@make@bat{##1}%
        }%
        \@write@make@bat{del *.aux *.log *.toc *.dvi *.pdf}%
    \fi
    % ���� �������, �� � ����� ����� ������ �� ������
    \AtEndDocument{\relax}
}{%
    \chaptercode{}
}

% ���� ��������� ������, �� �~����� ���������� ����� � �������������� �������
\AtEndDocument{\globallabel{\@paper@name:end}\balance}

\def\@paper@name{\jobname}% ��� ������� ������
\def\@paper@pixlist{}% ������ �������� � ������
\def\@reviewers@list{}% ������ ����������� � ����������� ��� ������� ������
\def\@@reviewer{*}% ���������, ��� �������� ���������� ������ �����; �� ��������� ��� ����������

% ������� ����� ������
\newcounter{mmroTotal}
\newcounter{mmroCorrected}
\newcounter{mmroReviewed}
\newcounter{mmroAccepted}
\newcounter{mmroMayBeCompleted}
\newcounter{mmroMustBeCompleted}
\newcounter{mmroRejected}
\def\@paper@corrected{-}
\def\@paper@reviewed{-}
\def\@paper@accepted{+}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ������� ��������� ������ � ������� � ��������� � ������� ��������� ������:
% \paper123{�����}[���������]
%       1   ={+/-}  -������ ������/��� ����������
%        2  ={+/-}  -������ ������/��� ��������������
%         3 ={+/-/?/!}  -������ �������/����������/�����/������ ���� ����������
% ��� ��������� ������ ����������: ?=+  !=-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% �������� � ������� ������ ������ � ���� ������� ������� (* ��� ����)
% INTERFACE
\def\FILTER#1#2#3{%
    \gdef\@@corrected{#1}%
    \gdef\@@reviewed{#2}%
    \gdef\@@accepted{#3}%
    \@ifnextchar[\@FILTER@reviewer\relax%
}
\def\@FILTER@reviewer[#1]{\gdef\@@reviewer{#1}}
\ifdraft
    {\FILTER***}
\else
    {\FILTER**+}
\fi

% ������� ��� ������� ������ �������
% INTERFACE
\def\paper#1#2#3#4{%
    \gdef\@paper@corrected{#1}
    \gdef\@paper@reviewed{#2}
    \gdef\@paper@accepted{#3}
    \gdef\@paper@name{#4}\refstepcounter{mmroTotal}%
    \gdef\@paper@pixlist{}
    \ifthenelse{\equal+{#1}}{\refstepcounter{mmroCorrected}}{}%
    \ifthenelse{\equal+{#2}}{\refstepcounter{mmroReviewed}}{}%
    \ifthenelse{\equal+{#3}}{\refstepcounter{mmroAccepted}}{}%
    \ifthenelse{\equal?{#3}}{\refstepcounter{mmroMayBeCompleted}}{}%
    \ifthenelse{\equal!{#3}}{\refstepcounter{mmroMustBeCompleted}}{}%
    \ifthenelse{\equal-{#3}}{\refstepcounter{mmroRejected}}{}%
    \ifwritebat
        \@write@authors@bat{\ZipAdd \@paper@name \@paper@name.tex \@paper@name.pdf}%
    \fi
    \@ifnextchar[\@paper@ii\@paper@i
}
\def\@paper@i{%
    \gdef\@reviewers@list{}%
    \ifthenelse{\equal{\@@reviewer}{}\or\equal{\@@reviewer}{*}}{\@paper}{}%
    \gdef\@paper@name{}%
}
\newboolean{bReviewer}
\def\@paper@ii[#1]{%
    \gdef\@reviewers@list{#1}%
    \setboolean{bReviewer}{false}%
    \@for\@reviewer@name:=\@reviewers@list\do{%
        \ifthenelse{\equal{\@@reviewer}{\@reviewer@name}}
            {\setboolean{bReviewer}{true}}%
            {}%
    }%
    \ifthenelse{\boolean{bReviewer}\or\equal{\@@reviewer}{*}}{%
        \@paper
        \@for\@reviewer@name:=\@reviewers@list\do{%
            \ifthenelse{\equal{\@@reviewer}{\@reviewer@name}\or\equal{\@@reviewer}{*}}
                {\ifwritebat
                    \@write@reviewers@bat{\ZipAdd \@reviewer@name iip9.sty \@paper@name.tex \@paper@name.pdf}%
                \fi}%
                {}%
        }%
    }{}%
    \gdef\@paper@name{}%
}
\def\GhostScriptExe{C:\Program Files (x86)\gs\gs8.64\bin\gswin32c.exe}
\def\@paper{%
    \begingroup
    \gdef\@paper@accepted@{\@paper@accepted}%
    \ifthenelse{\equal?{\@paper@accepted}}{\gdef\@paper@accepted@{+}}{}% ���-���� ��������
    \ifthenelse{\equal!{\@paper@accepted}}{\gdef\@paper@accepted@{-}}{}% ���� �� ������ ���������, �� ��������
    \ifthenelse{%
        \(\equal{\@paper@corrected}{\@@corrected}\or \equal{\@@corrected}{*}\) \and
        \(\equal{\@paper@reviewed}{\@@reviewed}\or  \equal{\@@reviewed}{*}\) \and
        \(\equal{\@paper@accepted@}{\@@accepted}\or  \equal{\@@accepted}{*}\)
    }{%
        \ifwritebat
            \@write@make@bat{TeXify \@paper@name.tex}%
            %\@write@make@bat{DviPdfm -p a4 \@paper@name.dvi}%
            \@write@make@bat{dvips.exe \@paper@name.dvi}%  --- ���������������� ��� ������������� DviPdfm
            \@write@make@bat{"\GhostScriptExe" -dBATCH -dNOPAUSE -sDEVICE=pdfwrite -sPAPERSIZE=a4 -r600 -dCompatibilityLevel=1.4 -sOutputFile="\@paper@name.pdf" -c save pop -f "\@paper@name.ps"}%  --- ���������������� ��� ������������� DviPdfm
            \@write@make@bat{del \@paper@name.ps}%  --- ���������������� ��� ������������� DviPdfm
        \fi
        \Russian
        \input{\@paper@name}%
    }%
    {}%
    \endgroup
}

% ������� ��� ����������� ������������ ����� � ������ � ����������
\newcommand\@include@graphics@file[1]{%
    % ������� ���������� �������� ������ ����������� ���� � �����
    \@for\@reviewer@name:=\@reviewers@list\do{%
        \ifthenelse{\equal{\@@reviewer}{\@reviewer@name}\or\equal{\@@reviewer}{*}}{%
            \ifwritebat
                \@write@reviewers@bat{\ZipAdd \@reviewer@name #1}
            \fi
        }{}%
    }%
    % ������������ ������ ���� ���������� ����������� ������
    \ifthenelse{\equal{\@paper@name}{}}{}{%
        \ifwritebat
            \@write@authors@bat{\ZipAdd \@paper@name #1}%
        \fi
        \xdef\@old@paper@pixlist{\@paper@pixlist}%
        \ifthenelse{\equal{\@old@paper@pixlist}{}}%
            {\gdef\@paper@pixlist{#1}}%
            {\xdef\@paper@pixlist{\@old@paper@pixlist,#1}}%
    }%
%    % � �������� ������ � ���������� ����������� ������� � ���������� ����������� ������
%    \ifdraft%
%        \addtocontents{toc}{\protect\par\protect\nopagebreak$\blacksquare$\quad\protect\url{#1}}%
%    \fi
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��������� �������������� � ����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcounter{mmroReviewerNote}
\newcounter{mmroTotalReviewedPapers}
\newcounter{mmroTotalReviewerNotes}
\newcounter{mmroFinalReviewerNotes}

% ���� ���������
\newcommand\LANGNOTE{\Rus}

% ���������� ��������� ������
\def\gobblespace{\@ifnextchar\ {\hspace{-1ex}}\relax}

% ������� ��������� ����������
\newcommand\typeREVIEWERNOTE[1]{{%
    \LANGNOTE\itshape\bfseries%\color{red}%
    \marginpar{%\raisebox{-1ex}{%\color{red}%
        $\checkmark\!_{\themmroReviewerNote}$%
    }%}%
    \{#1\}
}\gobblespace}
\newcommand\REVIEWERNOTE[1]{%
    \refstepcounter{mmroReviewerNote}%
    \refstepcounter{mmroTotalReviewerNotes}%
    \ifthenelse{\equal{\themmroReviewerNote}{1}}%
        {\refstepcounter{mmroTotalReviewedPapers}}%
        {}%
    \@type@REVIEWERNOTE{#1}%
}

% ������� ������ ������ �� ���������
\newcommand\typeREPLY[1]{{\LANGNOTE\sffamily\itshape\bfseries\par---\;{#1}}}
\newcommand\REPLY[1]{\@type@REPLY{#1}}

% ������� ������� ��� ��������� ������ ���������
\newcounter{@authors@no}
\def\the@authors@no{\arabic{@authors@no}}

% �������� ��������� � ����� ����������������� ������
\newcommand\typeFINALREVIEWERNOTE{%
    \par\noindent
    \begin{minipage}{\columnwidth}\parindent=3.5ex
        \par\bigskip\hrule\vskip1pt\hrule\nopagebreak\bigskip
        \ruseng{����� ������� ���������}{Total reviewers' notes}: \themmroReviewerNote.
        \par\medskip
        % ������� ����� ������� ��� ��������� ������ ���������
        \setcounter{@authors@no}{0}%
        \@for\@indx@elem:=\@author\do{%
            \addtocounter{@authors@no}{1}%
        }%
        \ifthenelse{\equal{\the@authors@no}{1}}%
            {\ruseng{��������� �����!}{Dear author!}}%
            {\ruseng{��������� ������!}{Dear authors!}}%
        \par\medskip
        \ruseng{%
            ������ ������ ����� ������ ����� ��������� ������������ ������.
            ���� �� ����������� ������� ���� ������, ����������,
            ������������ ������ ������ ������, �~��~��� �������� ����.
            \par
            ��� �������� ����������� ���������� �� ������������ �����������,
            ������� ��������������� �������� \LaTeX ������ ��������,
            ��� ��� ��� ����� ��������� ������ ����� �����������.
            ����������� ��������� ��������� TeXnicCenter, Texmaker, WinEdt, �~��.
            \par
            ���������� ����� ��������� ���� ��������� ����� �~����� ������
            �~������� ������� \texttt{\char"5C REVIEWERNOTE}.
            ������������ �������~--- ��~������� �� ��~���������.
            ��� ������ �������� ��� ��~����� �����.
            ��� ������������� �� ������ �������� ����� ��������
            \mbox{\texttt{\char"5C REPLY\{}\textit{����� ������}\texttt{\}}}
            ������ ������� ������������� ������������ ��� ����������� ���� �~������� �������.
            ���� ��������� ����� ��� �����������,
            ��~��� ������ ����� �������� ���������, ��� �������� �~�������� �~�����������.
            ����� ����, ��� ��������, ��� ��������� ������ ��������� ��� �����.
            ������� ����� ������������� ������������ ��������� �~������������
            �~��~������� �� ��������~--- ��� ����� ������ �������� ������.
            %\par
            ����� ����������� ������, ����� ��������� �~������,
            �������� �~��������� �������
            \texttt{\char"5C NOREVIEWERNOTES}.%
        }{%
            This version of your paper contains a~blue pencil.
            If~you want to make your corrections,
            please edit this particular version, not the file you sent to us previously.
            \par
            Please, do not use software that modifies the \LaTeX\ markup automatically,
            because it can violate the output of our proofreaders.
            Text editors like TeXnicCenter, Texmaker, WinEdt, notepad can be used.
            \par
            Reviewers and proofreaders may insert notes directly in the text
            using the \texttt{\char"5C REVIEWERNOTE} command.
            Please, do~not delete these notes from the document.
            They will be hidden in the fair copy.
            If~necessary, you~can reply the note using the
            \mbox{\texttt{\char"5C REPLY\{}\textit{your text}\texttt{\}}}
            command.
            %\par
            To~print the paper without notes and replies
            insert the command \texttt{\char"5C NOREVIEWERNOTES}
            in~the preamble of the document.%
        }%
        \par\nopagebreak\medskip\hrule\nopagebreak\bigskip
    \end{minipage}
}
\newcommand\FINALREVIEWERNOTE{%
    \refstepcounter{mmroFinalReviewerNotes}%
    \ifthenelse{\equal{\@paper@name}{\jobname}}{% ���� ������ ���������� �����
        \@type@FINALREVIEWERNOTE
    }{}%
}

% ��������� ���� �������� ������������ ������
\newcommand\typeDEADLINE{\ruseng{1~���� 2012~����}{July~1, 2012}}

% ����� �������������� �� ���������������� ������
\newcommand\typeAUTOWARN[1]{%
    \noindent\vskip-1.7ex
    {%\centering%\footnotesize
        \ruseng{%
            ���� ����������� ����� ��������� �������������,
            �������� ������ �� ���� ��������� ������� ������������ ��������:
            �������, ������~��~���������, ���� ����������.
        }{%
            Further text was generated automatically
            according to one of three possible decisions of the Program Committee:
            accept, amend, or reject.
        }%
    \par
    ������ ������ \textbf{#1}.
    \par\smallskip\hrule}%
    \bigskip
}

% ��� ���� �������� ��������� �~������������� �������� � ��������/���������/������
\newcommand\typeACCEPTNOTE{\par
    %\typeAUTOWARN{�������}%
    {\itshape\bfseries
        \LANGNOTE\ruseng{%
            ������ ������ ��������������, ���������� �~������� �~���������� �~��������.
            ��~������ ������ ������������ ������ �� \typeDEADLINE\ ������������ (��� ������, ��� �����).
            ���� ���������� �� ������� �� ��� ������������ ������ �� ���������� �����,
            ��~����� ������������ ������ ������.
        }{%
            The paper has been passed the phases of reviewing and proofreading.
            The paper is accepted.
            If~necessary You can make changes and submit your final version
            before \typeDEADLINE\ inclusively (the earlier the better).
            If~You submit nothing this version will be published.
        }%
    }\par
}
\newcommand\typeAMENDNOTE{\par
    %\typeAUTOWARN{������ ��~���������}%
    {\itshape\bfseries
        \LANGNOTE\ruseng{%
            ������ ����� ���� ������� �~���������� �~�������� ������ ��� ������� �� ������������ ���������.
            ��~������ ������ ������������ ������ �� \typeDEADLINE\ ������������ (��� ������, ��� �����).
            ���� ���������� �� ������� �� ��� ������������ ������ �� ���������� �����,
            ��~������ �� ����� ������������.
        }{%
            The paper has been passed the phases of reviewing and proofreading.
            The paper may be accepted only after Your amendment (see reviewers' notes in the text).
            You can submit your final version before \typeDEADLINE\ inclusively (the earlier the better).
            If~You submit nothing the paper will not be published.
        }%
    }\par
}
\newcommand\typeREJECTNOTE{\par
    %\typeAUTOWARN{����������}%
    {\itshape\bfseries
        \LANGNOTE\ruseng{%
            ������ ��~����� ���� ������� �~���������� �~��������.
            ��~������ ������ ��������� �������������� ������ ������ �� \typeDEADLINE\ ������������ (��� ������, ��� �����).
            ���� ���������� �� ������� �� ��� ����� ������ �� ���������� �����,
            ��~������ �� ����� ������������.
        }{%
            The paper is rejected.
            Nevertheless, You can make changes and submit your final version
            before \typeDEADLINE\ inclusively (the earlier the better).
            If~You submit nothing the paper will not be published.
        }%
    }\par
}

\newcommand\ACCEPTNOTE{%
    \refstepcounter{mmroFinalReviewerNotes}%
    \ifthenelse{\equal{\@paper@name}{\jobname}}{% ���� ������ ���������� �����
        \@type@ACCEPTNOTE
    }{}%
}
\newcommand\AMENDNOTE{%
    \refstepcounter{mmroFinalReviewerNotes}%
    \ifthenelse{\equal{\@paper@name}{\jobname}}{% ���� ������ ���������� �����
        \@type@AMENDNOTE
    }{}%
}
\newcommand\REJECTNOTE{%
    \refstepcounter{mmroFinalReviewerNotes}%
    \ifthenelse{\equal{\@paper@name}{\jobname}}{% ���� ������ ���������� �����
        \@type@REJECTNOTE
    }{}%
}

\newcommand\@type@REVIEWERNOTE[1]{\typeREVIEWERNOTE{#1}}
\newcommand\@type@REPLY[1]{\typeREPLY{#1}}
\newcommand\@type@FINALREVIEWERNOTE{\typeFINALREVIEWERNOTE}
\newcommand\@type@ACCEPTNOTE{\par\bigskip\hrule\nopagebreak\bigskip\typeACCEPTNOTE\typeFINALREVIEWERNOTE}
\newcommand\@type@AMENDNOTE{\par\bigskip\hrule\nopagebreak\bigskip\typeAMENDNOTE\typeFINALREVIEWERNOTE}
\newcommand\@type@REJECTNOTE{\par\bigskip\hrule\nopagebreak\bigskip\typeREJECTNOTE\typeFINALREVIEWERNOTE}

% ������ ������ ���� ������������� ���������
\newcommand\NOREVIEWERNOTES{%
    \renewcommand\@type@REVIEWERNOTE[1]{\gobblespace}
    \renewcommand\@type@REPLY[1]{\gobblespace}
    \renewcommand\@type@FINALREVIEWERNOTE{\gobblespace}
    \renewcommand\@type@ACCEPTNOTE{\gobblespace}
    \renewcommand\@type@AMENDNOTE{\gobblespace}
    \renewcommand\@type@REJECTNOTE{\gobblespace}
}

% ������ ���������� �� ����� ��������
\newcommand\@type@FINALSTAT{%
    \newpage\chaptercode{}\Russian
    %\bigskip\hrule\vskip1pt\hrule height2pt\bigskip
    {\normalfont\Large\sffamily\bfseries �������� ���������� ������}
    \vskip2em
    \par
    ����� ������ ������: \themmroTotal.
    \par
    ������, ��������� ����������: \themmroCorrected.
    \\\par
    ������, ��������� ��������������: \themmroReviewed.
    \par
    ����� ������ c \texttt{\char"5C REVIEWERNOTE}: \themmroTotalReviewedPapers\
    (����� ������� ���������: \themmroTotalReviewerNotes).
    \par
    ����� ������ � \texttt{\char"5C FINALREVIEWERNOTE}: \themmroFinalReviewerNotes.
    \\\par
    ������, ���������� ��� �������� �~������: \themmroAccepted.
    \par
    ������, ������� ���������� ����������: \themmroMayBeCompleted.
    \par
    ������, ������� �� ����� ���� ������������ ��� ���������: \themmroMustBeCompleted.
    \par
    ������, ������� ��� ����� ���������: \themmroRejected.
    \\\par
    ������ �~���� ������ ��������: \thePaperNo.
    \par
    ����� ����������� �~���� ������ ��������: \thePictureNo.
}
% INTERFACE
\newcommand\FINALSTAT{%
    \ifdraft\@type@FINALSTAT\fi
}

\newcounter{TodoCount}
\def\thevkTodoCount{\arabic{TodoCount}}
% INTERFACE
\newcommand\TODO[1]{{%
    \small\color{red}%
    \marginpar{\raisebox{-1ex}{\color{red}ToDo$^{\refstepcounter{TodoCount}\theTodoCount}$}}%
    \{#1\}
}}
%\renewcommand\TODO[1]{\gobblespace}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��� ��������� �������� ������� graphicx
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareGraphicsRule{.wmf}{bmp}{}{}
\DeclareGraphicsRule{.emf}{bmp}{}{}
\DeclareGraphicsRule{.bmp}{bmp}{}{}
\DeclareGraphicsRule{.png}{bmp}{}{}
% ��� �������� �� ��������, ����������� includegraphics
\def\XYtext(#1,#2)#3{\rlap{\kern#1\lower-#2\hbox{#3}}}

% ��������������� ������� �������
\newcounter{PictureNo}
\let\IncludeGraphics=\includegraphics
\renewcommand\includegraphics[2][]{%
    \IncludeGraphics[#1]{#2}%
    \refstepcounter{PictureNo}%
    % ���� ���� ������� ��������, �������� �������� � ������
    \ifthenelse{\equal{\@paper@name}{\jobname}}%
        {}%
        {\@include@graphics@file{#2}}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��������� �����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setcounter{topnumber}{9}
\setcounter{totalnumber}{9}
\renewcommand\topfraction{1.0}
\renewcommand\textfraction{0.0}
\renewcommand\floatpagefraction{0.01} % float-������� ���� ������ �� ������ - ��� ����� �� ����� ������ ;)
\setlength\floatsep{2ex}
\setlength\textfloatsep{2.5ex}
\setlength\intextsep{2.5ex}
\setlength\abovecaptionskip{2ex}

%\def\@caption@left@right@skip{\leftskip=3.5ex\rightskip=3.5ex}
\def\@caption@left@right@skip{\leftskip=0ex\rightskip=0ex}
\def\nocaptionskips{\def\@caption@left@right@skip{}}
\def\fnum@figure{\figurename\:\thefigure} %% ������������ ������ ������ ����� ���. � ������� �������
\def\fnum@table{\tablename\enskip\thetable} %% ������������ ������ ������ ����� ������� � ������� �������

\renewcommand\@makecaption[2]{%
    \vskip\abovecaptionskip
    \sbox\@tempboxa{\small\textbf{#1.} #2}%
    \ifdim\wd\@tempboxa >\hsize
        {\@caption@left@right@skip\small\textbf{#1.} #2\par}%
    \else
        \global\@minipagefalse
        \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
    \fi
    %\vskip\belowcaptionskip
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��������� ��������������� ��� ���������� ����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\ge}{\geqslant}
\renewcommand{\le}{\leqslant}
\renewcommand{\emptyset}{\varnothing}
\renewcommand{\kappa}{\varkappa}
\let\oldphi=\phi
\renewcommand{\phi}{\varphi}
\renewcommand{\epsilon}{\varepsilon}

\let\varvec\vec
%\renewcommand{\vec}[1]{\mathbf{#1}}
\renewcommand{\vec}[1]{\boldsymbol{#1}}
%\def\ubar#1{\smash[b]{\underset{\rule[0.8ex]{3pt}{0.3pt}}#1}}
\renewcommand{\complement}{\mathsf{C}}
\newcommand{\T}{^{\text{\tiny\sffamily\upshape\mdseries T}}}
%\newcommand{\T}{^{\textsf{\upshape �}}}
%\newcommand{\T}{^{\text{\rm �}}}

\newcommand\myop[1]{\mathop{\operator@font #1}\nolimits}
\newcommand\mylim[1]{\mathop{\operator@font #1}\limits}

%\DeclareMathSymbol{\sumop}{\mathop}{largesymbols}{"50}
%\def\sum{\sumop\limits}
\newcommand{\tsum}{\mathop{\textstyle\sum}\limits}
\newcommand{\tprod}{\mathop{\textstyle\prod}\limits}
\newcommand{\tvee}{\mathop{\textstyle\bigvee}\limits}
\newcommand{\twedge}{\mathop{\textstyle\bigwedge}\limits}
\newcommand{\tbigcap}{\mathop{\textstyle\bigcap}\limits}
\newcommand{\tbigcup}{\mathop{\textstyle\bigcup}\limits}
\renewcommand\lim{\mylim{lim}}
\renewcommand\limsup{\mylim{lim\,sup}}
\renewcommand\liminf{\mylim{lim\,inf}}
\renewcommand\max{\mylim{max}}
\renewcommand\min{\mylim{min}}
\renewcommand\sup{\mylim{sup}}
\renewcommand\inf{\mylim{inf}}
\newcommand\argmin{\mylim{arg\,min}}
\newcommand\argmax{\mylim{arg\,max}}
\newcommand\Tr{\myop{tr}}
\newcommand\rank{\myop{rank}}
\newcommand\diag{\myop{diag}}
\renewcommand\Re{\myop{Re}}
\renewcommand\Im{\myop{Im}}
\newcommand\sign{\mylim{sign}}
\newcommand\const{\myop{const}}

% ������ ������������
\newcommand{\erf}{\myop{erf}}
\newcommand{\Expect}{\mathsf{E}}
\newcommand{\Var}{\mathsf{D}}
\newcommand\cov{\myop{cov}}
\newcommand\corr{\myop{corr}}
\newcommand\Normal{\mathcal{N}}
\newcommand{\cond}{\mspace{3mu}{|}\mspace{3mu}}

% ������ �������������� ���������
% ����� ��� ������� ���������
%\def\CCfont#1{\ifmmode{\mathsf{#1}}\else\mbox{\textsf{#1}}\fi}
\def\CCfont#1{\ifmmode\mbox{\textsf{#1}}\else\mbox{\rm\textsf{#1}}\fi}
% ����� ��� �������� �����
\def\CPfont#1{\ifmmode\mbox{\textsc{#1}}\else\mbox{\rm\textsc{#1}}\fi}
% ������ ���������
\def\P{\CCfont{P}}
\def\NP{\CCfont{NP}}
\def\DTIME{\CCfont{DTIME}}
\def\MaxSNP{\CCfont{Max-SNP}}
\def\Apx{\CCfont{Apx}}
% ������
\def\PC{\CPfont{PC}}
\def\MinPC{\CPfont{MinPC}}
\def\threeSAT{\CPfont{3SAT}}
\def\GapSAT{\CPfont{Gap-3SAT}}

% ���������
\def\NN{\mathbb{N}}
\def\ZZ{\mathbb{Z}}
\def\QQ{\mathbb{Q}}
\def\RR{\mathbb{R}}
\def\CC{\mathbb{C}}
\def\HH{\mathbb{H}}
%\def\LL{\mathbb{L}}
%\def\II{\mathbb{I}}
%\def\DD{\mathbb{D}}
%\def\cL{\mathscr{L}}
%\def\cF{\mathscr{F}}
%\def\cG{\mathscr{G}}
%\def\cB{\mathscr{B}}
%\def\cK{\mathscr{K}}
%\def\cJ{\mathcal{J}}
%\def\cN{\mathcal{N}}
%\def\fF{\mathfrak{F}}
%\def\fI{\mathfrak{I}}
%\def\fM{\mathfrak{M}}
%\def\fR{\mathfrak{R}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% �������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ������������ �������� �� ��������
\def\afterlabel#1{\renewcommand\labelenumi{\theenumi #1}}
\def\aroundlabel#1#2{\renewcommand\labelenumi{#1\theenumi #2}}
\newenvironment{enumerate*}
{%
    \begingroup
    \renewcommand{\@listi}{%
        \topsep=\smallskipamount % ������ ������
        \parsep=0pt% ����� �������� ������ ������
        \parskip=0pt% ����� ��������
        \itemsep=0pt% ����� ��������
        \itemindent=0ex% �������� ������
        \labelsep=1.5ex% ���������� �� �����
        \leftmargin=7ex% ������ �����
        \rightmargin=0pt} % ������ ������
    \begin{enumerate}%
    \afterlabel)%
}{%
    \end{enumerate}%
    \endgroup
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ����� ��������������� ���������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\theoremstyle{plain}
% ��������� �������������, ����� ������� ����� ����� ������ �������
\gdef\th@plain{\normalfont
    \def\@begintheorem##1##2{%
        \item[\hskip\labelsep\theorem@headerfont ##1\ ##2. ]}%
    \def\@opargbegintheorem##1##2##3{%
        \item[\hskip\labelsep\theorem@headerfont ##1\ ##2] {\theorem@headerfont(##3). }}%
}
% ������� ��������� �������
\theorempreskipamount=\smallskipamount
\theorempreskipamount=\smallskipamount
\theorembodyfont{\rmfamily\slshape}
\newtheorem{Theorem}{\ruseng{�������}{Theorem}}
\newtheorem{Lemma}[Theorem]{\ruseng{�����}{Lemma}}
\newtheorem{State}{\ruseng{�����������}{Statement}}
\newtheorem{Corollary}{\ruseng{���������}{Corollary}}
\newtheorem{Def}{\ruseng{�����������}{Definition}}
\newtheorem{Definition}[Def]{\ruseng{�����������}{Definition}}
% ������� ������ �������
\theorembodyfont{\rmfamily}
\newtheorem{Axiom}{\ruseng{�������}{Axiom}}
\newtheorem{Hypothesis}{\ruseng{��������}{Hypothesis}}
\newtheorem{Assumption}{\ruseng{�������������}{Assumption}}
\newtheorem{Problem}{\ruseng{������}{Problem}}
\newtheorem{Example}{\ruseng{������}{Example}}
\newtheorem{Fact}{\ruseng{����}{Fact}}
\newtheorem{Remark}{\ruseng{���������}{Remark}}
\newtheorem{Notice}{\ruseng{���������}{Notice}}
\newtheorem{Rule}{\ruseng{�������}{Rule}}
\newtheorem{Condition}{\ruseng{�������}{Condition}}
% ��� ������������� (�� ������������� � �������� �������)
\newenvironment{Proof}%
    {\par\noindent{\bf ��������������.}}%
    {\hfill$\scriptstyle\blacksquare$}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ���������� ���������� � ������� algorithm, algorithmic
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ��������������� (�����������) ����������� �����������:
\newcommand{\algKeyword}[1]{{\bf #1}}
\renewcommand{\algorithmicrequire}{\rule{0pt}{2.5ex}\algKeyword{\ruseng{����:}{Require:}}}
\renewcommand{\algorithmicensure}{\algKeyword{\ruseng{�����:}{Ensure:}}}
\renewcommand{\algorithmicend}{\algKeyword{\ruseng{�����}{end}}}
\renewcommand{\algorithmicif}{\algKeyword{\ruseng{����}{if}}}
\renewcommand{\algorithmicthen}{\algKeyword{\ruseng{��}{then}}}
\renewcommand{\algorithmicelse}{\algKeyword{\ruseng{�����}{else}}}
\renewcommand{\algorithmicelsif}{\algorithmicelse\ \algorithmicif}
\renewcommand{\algorithmicendif}{\algorithmicend\ \algorithmicif}
\renewcommand{\algorithmicfor}{\algKeyword{\ruseng{���}{for}}}
\renewcommand{\algorithmicforall}{\algKeyword{\ruseng{��� ����}{for all}}}
\renewcommand{\algorithmicdo}{}
\renewcommand{\algorithmicendfor}{\algorithmicend\ \algorithmicfor}
\renewcommand{\algorithmicwhile}{\algKeyword{\ruseng{����}{while}}}
\renewcommand{\algorithmicendwhile}{\algorithmicend\ \algorithmicwhile}
\renewcommand{\algorithmicloop}{\algKeyword{\ruseng{����}{loop}}}
\renewcommand{\algorithmicendloop}{\algorithmicend\ \algorithmicloop}
\renewcommand{\algorithmicrepeat}{\algKeyword{\ruseng{���������}{repeat}}}
\renewcommand{\algorithmicuntil}{\algKeyword{\ruseng{����}{until}}}
%\renewcommand{\algorithmiccomment}[1]{{\footnotesize // #1}}
\renewcommand{\algorithmiccomment}[1]{{\quad\sl // #1}}

% ��� �������������� ������� ��� �������� ����������
\newcommand{\Procedure}[1]{{\tt #1}}
\newcommand{\Proc}[1]{\text{\tt #1}}
\def\BEGIN{\\[1ex]\hrule\vskip 1ex}
\def\PARAMS{\renewcommand{\algorithmicrequire}{\algKeyword{\ruseng{���������:}{Parameters:}}}\REQUIRE}
\def\END{\vskip 1ex\hrule\vskip 1ex}
\def\RET{\algKeyword{\ruseng{�������}{return}} }
\def\EXIT{\algKeyword{\ruseng{�����}{exit}}}
\def\IFTHEN#1{\STATE\algorithmicif\ #1 {\algorithmicthen}}
\def\PROCEDURE#1{\medskip\STATE\algKeyword{\ruseng{���������}{PROCEDURE}} \Procedure{#1}}

% ��� ��������� ��������������� ��� ����������
\renewcommand{\listalgorithmname}{������ ����������}
\floatname{algorithm}{\ruseng{��������}{Algorithm}}
\floatplacement{algorithm}{!t}

% ����� ��������� ������� ����� ������ ��������� � \caption:
\renewcommand\floatc@ruled[2]{\vskip2pt\textbf{#1.} #2\par}

% ����� ����� ���� ��������� �� ���� ���������
\newenvironment{Algorithm}[1][t]%
    {\begin{algorithm}[#1]\begin{algorithmic}[1]%
        \renewcommand{\ALC@it}{%
            \refstepcounter{ALC@line}% �����������, ������ ��� �� ������ Peter Williams?
            \addtocounter{ALC@rem}{1}%
            \ifthenelse{\equal{\arabic{ALC@rem}}{1}}{\setcounter{ALC@rem}{0}}{}%
            \item}}%
    {\end{algorithmic}\end{algorithm}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��������� ��������� ����� � ��������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{network}%
    {\catcode`"=12\begin{xy}<1ex,0ex>:}%
    {\end{xy}\catcode`"=13}
\def\nnNode"#1"(#2)#3{\POS(#2)*#3="#1"}
\def\nnLink"#1,#2"#3{\POS"#1"\ar #3 "#2"}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   � � � � � �
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ��� ������: ��������� ������������ ������� ������� ��������� ���������
\newcommand{\hstrut}{\rule{0pt}{2.5ex}}
\newcommand{\headline}{\hline\hstrut}

% ��������� - ������ ��������
\renewcommand\emph[1]{\textit{#1}}

% ������� ����� �������� �� ��������� ������
\newcommand\brop[1]{#1\discretionary{}{\hbox{$\mathsurround=0pt #1$}}{}}

\begingroup
\catcode`\+\active\gdef+{\mathchar8235\nobreak\discretionary{}%
 {\usefont{OT1}{cmr}{m}{n}\char43}{}}
\catcode`\-\active\gdef-{\mathchar8704\nobreak\discretionary{}%
 {\usefont{OMS}{cmsy}{m}{n}\char0}{}}
\catcode`\=\active\gdef={\mathchar12349\nobreak\discretionary{}%
 {\usefont{OT1}{cmr}{m}{n}\char61}{}}
\endgroup
\def\cdot{\mathchar8705\nobreak\discretionary{}%
 {\usefont{OMS}{cmsy}{m}{n}\char1}{}}
\def\times{\mathchar8706\nobreak\discretionary{}%
 {\usefont{OMS}{cmsy}{m}{n}\char2}{}}
\AtBeginDocument{%
\mathcode`\==32768
\mathcode`\+=32768
\mathcode`\-=32768
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ��� ��������� ������ ������ ��������� �����������
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\NOREVIEWERNOTES
